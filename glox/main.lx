
class ListNode {
	init(val, rest) {
		this.val = val;
		this.rest = rest;
	}
	cons(val) {
		return ListNode(val, this);
	}

	head() {
		return this.val;
	}

	tail() {
		return this.rest;
	}
}

fun singularList(val) {
	return ListNode(val, nil);
}

fun printList(l) {
	fun lc(x) {
		if (x == nil) {
			return "";
		}
		return to_string(x.head()) + " " + lc(x.tail());
	}
	return "[ " + lc(l) + "]";
}

print(printList(singularList(1).cons(2).cons(3).cons(4)));


